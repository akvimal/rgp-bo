!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[982],{9982:function(e,n,o){o.r(n),o.d(n,{ReportsModule:function(){return v}});var i,u=o(8583),a=o(665),c=o(8288),p=o(7872),s=o(2561),l=o(4466),d=o(2899),Z=o(9457),f=o(7716),g=o(2340),h=o(1841),m=((i=function(){function e(r){t(this,e),this.http=r,this.apiurl="".concat(g.N.apiHost,"/reports")}return r(e,[{key:"search",value:function(t){return console.log(t),"export"==t.action?this.http.post("".concat(this.apiurl,"/").concat(t.criteria.report),t,{responseType:"blob"}):this.http.post("".concat(this.apiurl,"/").concat(t.criteria.report),t)}}]),e}()).\u0275fac=function(t){return new(t||i)(f.LFG(h.eN))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i),b=o(139),q=o(1959);function A(t,e){if(1&t&&(f.TgZ(0,"tr"),f.TgZ(1,"td"),f._uU(2),f.ALo(3,"date"),f.qZA(),f.TgZ(4,"td"),f._uU(5),f.qZA(),f.TgZ(6,"td"),f._uU(7),f.qZA(),f.TgZ(8,"td",19),f._uU(9),f.qZA(),f.TgZ(10,"td"),f._uU(11),f.qZA(),f.TgZ(12,"td"),f._uU(13),f.qZA(),f.TgZ(14,"td",19),f._uU(15),f.qZA(),f.TgZ(16,"td",19),f._uU(17),f.qZA(),f.TgZ(18,"td",19),f._uU(19),f.qZA(),f.qZA()),2&t){var r=e.$implicit;f.xp6(2),f.Oqu(f.xi3(3,9,r.bill_date,"dd/MM/yy")),f.xp6(3),f.Oqu(r.bill_no),f.xp6(2),f.Oqu(r.customer),f.xp6(2),f.Oqu(r.sale_total),f.xp6(2),f.Oqu(r.product),f.xp6(2),f.Oqu(r.batch),f.xp6(2),f.Oqu(r.qty),f.xp6(2),f.Oqu(r.price),f.xp6(2),f.Oqu(r.item_total)}}var T=[{path:"",component:function(){var e=function(){function e(r,n){t(this,e),this.service=r,this.dateService=n,this.form=new a.cw({report:new a.NI("sale"),begin:new a.NI(""),end:new a.NI("")})}return r(e,[{key:"ngOnInit",value:function(){var t=this.dateService.getFormatDate(new Date);this.form.controls.begin.setValue(t),this.form.controls.end.setValue(t)}},{key:"propsUpdate",value:function(t,e){this.product="product"==e&&t.values}},{key:"onSubmit",value:function(t){var e=this,r=Object.assign({},this.form.value);(""!==r.begin||""!==r.end)&&(""===r.begin&&""!==r.end&&(r.begin=r.end),""!==r.begin&&""===r.end&&(r.end=r.begin),this.product&&(r=Object.assign(Object.assign({},r),{product:this.product})),this.service.search({action:t,criteria:r}).subscribe(function(r){"export"==t?(0,Z.saveAs)(new Blob([r]),"salereport.xlsx"):"search"==t&&(console.log(r),e.data=r)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Y36(m),f.Y36(b.m))},e.\u0275cmp=f.Xpm({type:e,selectors:[["ng-component"]],decls:48,vars:4,consts:[[1,"pagetitle"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"col-12"],["formControlName","report","type","radio","id","purchase","value","purchase",1,"form-check-input"],["for","purchase",1,"form-check-label"],["formControlName","report","type","radio","id","stock","value","stock",1,"form-check-input"],["for","stock",1,"form-check-label"],["formControlName","report","type","radio","id","sale","value","sale",1,"form-check-input"],["for","sale",1,"form-check-label"],["type","date","formControlName","begin","placeholder","Begin"],["type","date","formControlName","end","placeholder","End"],[3,"entity","default","updated"],[1,"col-12","mt-2"],[1,"d-flex"],["type","submit",1,"btn","btn-primary","me-auto","p-2"],[1,"btn","btn-primary","p-2",3,"click"],[1,"card"],[2,"width","15%"],[2,"text-align","right"],[2,"width","30%"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"h1"),f._uU(2,"Reports"),f.qZA(),f.qZA(),f.TgZ(3,"div",1),f.TgZ(4,"form",2),f.NdJ("ngSubmit",function(){return e.onSubmit("search")}),f.TgZ(5,"div",3),f._UZ(6,"input",4),f.TgZ(7,"label",5),f._uU(8," Purchase "),f.qZA(),f._UZ(9,"input",6),f.TgZ(10,"label",7),f._uU(11," Stock "),f.qZA(),f._UZ(12,"input",8),f.TgZ(13,"label",9),f._uU(14," Sale "),f.qZA(),f.qZA(),f.TgZ(15,"div",3),f._UZ(16,"input",10),f._UZ(17,"input",11),f.TgZ(18,"app-props-form",12),f.NdJ("updated",function(t){return e.propsUpdate(t,"product")}),f.qZA(),f.qZA(),f.TgZ(19,"div",13),f.TgZ(20,"div",14),f.TgZ(21,"button",15),f._uU(22,"Search"),f.qZA(),f.TgZ(23,"button",16),f.NdJ("click",function(){return e.onSubmit("export")}),f._uU(24,"Export"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(25,"div",13),f.TgZ(26,"div",17),f.TgZ(27,"table"),f.TgZ(28,"tr"),f.TgZ(29,"th"),f._uU(30,"Date"),f.qZA(),f.TgZ(31,"th"),f._uU(32,"No"),f.qZA(),f.TgZ(33,"th",18),f._uU(34,"Customer"),f.qZA(),f.TgZ(35,"th",19),f._uU(36,"Total"),f.qZA(),f.TgZ(37,"th",20),f._uU(38,"Product"),f.qZA(),f.TgZ(39,"th"),f._uU(40,"Batch"),f.qZA(),f.TgZ(41,"th",19),f._uU(42,"Qty"),f.qZA(),f.TgZ(43,"th",19),f._uU(44,"Price"),f.qZA(),f.TgZ(45,"th",19),f._uU(46,"Amount"),f.qZA(),f.qZA(),f.YNc(47,A,20,12,"tr",21),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.xp6(4),f.Q6J("formGroup",e.form),f.xp6(14),f.Q6J("entity","product")("default",!1),f.xp6(29),f.Q6J("ngForOf",e.data))},directives:[a._Y,a.JL,a.sg,a.Fj,a._,a.JJ,a.u,q.T,u.sg],pipes:[u.uU],encapsulation:2}),e}(),canActivate:[s.a]}],v=function(){var e=r(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[c.Bz.forChild(T),u.ez,a.UX,a.u5,p.U$,l.m,d.d]]}),e}()}}])}();