"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[982],{9982:function(t,e,r){r.r(e),r.d(e,{ReportsModule:function(){return A}});var o=r(8583),n=r(665),i=r(8288),u=r(7872),c=r(2561),a=r(4466),p=r(2899),s=r(9457),d=r(7716),l=r(2340),Z=r(1841);let g=(()=>{class t{constructor(t){this.http=t,this.apiurl=`${l.N.apiHost}/reports`}search(t){return console.log(t),"export"==t.action?this.http.post(`${this.apiurl}/${t.criteria.report}`,t,{responseType:"blob"}):this.http.post(`${this.apiurl}/${t.criteria.report}`,t)}}return t.\u0275fac=function(e){return new(e||t)(d.LFG(Z.eN))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=r(139),m=r(1959);function f(t,e){if(1&t&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.ALo(3,"date"),d.qZA(),d.TgZ(4,"td"),d._uU(5),d.qZA(),d.TgZ(6,"td"),d._uU(7),d.qZA(),d.TgZ(8,"td",19),d._uU(9),d.qZA(),d.TgZ(10,"td"),d._uU(11),d.qZA(),d.TgZ(12,"td"),d._uU(13),d.qZA(),d.TgZ(14,"td",19),d._uU(15),d.qZA(),d.TgZ(16,"td",19),d._uU(17),d.qZA(),d.TgZ(18,"td",19),d._uU(19),d.qZA(),d.qZA()),2&t){const t=e.$implicit;d.xp6(2),d.Oqu(d.xi3(3,9,t.bill_date,"dd/MM/yy")),d.xp6(3),d.Oqu(t.bill_no),d.xp6(2),d.Oqu(t.customer),d.xp6(2),d.Oqu(t.sale_total),d.xp6(2),d.Oqu(t.product),d.xp6(2),d.Oqu(t.batch),d.xp6(2),d.Oqu(t.qty),d.xp6(2),d.Oqu(t.price),d.xp6(2),d.Oqu(t.item_total)}}const q=[{path:"",component:(()=>{class t{constructor(t,e){this.service=t,this.dateService=e,this.form=new n.cw({report:new n.NI("sale"),begin:new n.NI(""),end:new n.NI("")})}ngOnInit(){const t=this.dateService.getFormatDate(new Date);this.form.controls.begin.setValue(t),this.form.controls.end.setValue(t)}propsUpdate(t,e){this.product="product"==e&&t.values}onSubmit(t){let e=Object.assign({},this.form.value);(""!==e.begin||""!==e.end)&&(""===e.begin&&""!==e.end&&(e.begin=e.end),""!==e.begin&&""===e.end&&(e.end=e.begin),this.product&&(e=Object.assign(Object.assign({},e),{product:this.product})),this.service.search({action:t,criteria:e}).subscribe(e=>{"export"==t?(0,s.saveAs)(new Blob([e]),"salereport.xlsx"):"search"==t&&(console.log(e),this.data=e)}))}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(g),d.Y36(h.m))},t.\u0275cmp=d.Xpm({type:t,selectors:[["ng-component"]],decls:48,vars:4,consts:[[1,"pagetitle"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"col-12"],["formControlName","report","type","radio","id","purchase","value","purchase",1,"form-check-input"],["for","purchase",1,"form-check-label"],["formControlName","report","type","radio","id","stock","value","stock",1,"form-check-input"],["for","stock",1,"form-check-label"],["formControlName","report","type","radio","id","sale","value","sale",1,"form-check-input"],["for","sale",1,"form-check-label"],["type","date","formControlName","begin","placeholder","Begin"],["type","date","formControlName","end","placeholder","End"],[3,"entity","default","updated"],[1,"col-12","mt-2"],[1,"d-flex"],["type","submit",1,"btn","btn-primary","me-auto","p-2"],[1,"btn","btn-primary","p-2",3,"click"],[1,"card"],[2,"width","15%"],[2,"text-align","right"],[2,"width","30%"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"h1"),d._uU(2,"Reports"),d.qZA(),d.qZA(),d.TgZ(3,"div",1),d.TgZ(4,"form",2),d.NdJ("ngSubmit",function(){return e.onSubmit("search")}),d.TgZ(5,"div",3),d._UZ(6,"input",4),d.TgZ(7,"label",5),d._uU(8," Purchase "),d.qZA(),d._UZ(9,"input",6),d.TgZ(10,"label",7),d._uU(11," Stock "),d.qZA(),d._UZ(12,"input",8),d.TgZ(13,"label",9),d._uU(14," Sale "),d.qZA(),d.qZA(),d.TgZ(15,"div",3),d._UZ(16,"input",10),d._UZ(17,"input",11),d.TgZ(18,"app-props-form",12),d.NdJ("updated",function(t){return e.propsUpdate(t,"product")}),d.qZA(),d.qZA(),d.TgZ(19,"div",13),d.TgZ(20,"div",14),d.TgZ(21,"button",15),d._uU(22,"Search"),d.qZA(),d.TgZ(23,"button",16),d.NdJ("click",function(){return e.onSubmit("export")}),d._uU(24,"Export"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(25,"div",13),d.TgZ(26,"div",17),d.TgZ(27,"table"),d.TgZ(28,"tr"),d.TgZ(29,"th"),d._uU(30,"Date"),d.qZA(),d.TgZ(31,"th"),d._uU(32,"No"),d.qZA(),d.TgZ(33,"th",18),d._uU(34,"Customer"),d.qZA(),d.TgZ(35,"th",19),d._uU(36,"Total"),d.qZA(),d.TgZ(37,"th",20),d._uU(38,"Product"),d.qZA(),d.TgZ(39,"th"),d._uU(40,"Batch"),d.qZA(),d.TgZ(41,"th",19),d._uU(42,"Qty"),d.qZA(),d.TgZ(43,"th",19),d._uU(44,"Price"),d.qZA(),d.TgZ(45,"th",19),d._uU(46,"Amount"),d.qZA(),d.qZA(),d.YNc(47,f,20,12,"tr",21),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(4),d.Q6J("formGroup",e.form),d.xp6(14),d.Q6J("entity","product")("default",!1),d.xp6(29),d.Q6J("ngForOf",e.data))},directives:[n._Y,n.JL,n.sg,n.Fj,n._,n.JJ,n.u,m.T,o.sg],pipes:[o.uU],encapsulation:2}),t})(),canActivate:[c.a]}];let A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[i.Bz.forChild(q),o.ez,n.UX,n.u5,u.U$,a.m,p.d]]}),t})()}}]);