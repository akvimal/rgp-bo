
<div class="card mt-2">
  <div class="card-body">
    <h5 class="card-title p-0 m-0">New Invoice</h5>

<form [formGroup]="form" (ngSubmit)="submit()">
  
    <div class="row mt-4">
      <div class="col-md-3">
        <label for="vendor" class="col-form-label">Vendor</label>
        <select class="form-select" id="vendor" formControlName="vendorid" (change)="fetchOrders($event)">
          <option value="">Select</option>
          <option *ngFor="let v of vendors" [value]="v.id">{{v.name}}</option>
        </select>
      </div>
      <div class="col-md-3">
        <label for="poid" class="col-form-label">PO</label>
        
        <select class="form-select" id="order" formControlName="purchaseorderid">
          <option value="">Select</option>
          <option *ngFor="let o of orders" [value]="o.id">{{o.createdon | date}} ({{o.id}})</option>
        </select>
      </div>
      <div class="col-md-3">
        <label for="invno" class="col-form-label">Invoice No.</label>
        <input type="text" class="form-control" formControlName="invoiceno" id="invno" maxlength="12">
        <div *ngIf="form.controls['invoiceno'].dirty && form.controls['invoiceno'].invalid" style="font-size: large;color:red;">
          Invoice No can be alphanumeric with hypen only
        </div>
      </div>
      <div class="col-md-3">
        <label for="invdate" class="col-form-label">Invoice Date</label><br>
        <input type="date" class="form-control" formControlName="invoicedate" id="invdate">
      </div>

      <!-- <div class="col-md-3">
        <label for="grno" class="col-form-label">GR No.</label>
        <input type="text" class="form-control" formControlName="grno" id="grno">
      </div> -->
<!-- 
      <div class="col-md-3">
        <label for="invno" class="col-form-label">GR Date</label>
        <input type="date" class="form-control" formControlName="grdate" id="grdate">
      </div> -->
    </div>
    <div class="row" *ngIf="errorMessage !== ''">
      <div class="col-md-12">{{errorMessage}}</div>
    </div>
    <div class="row mt-3">
      <div class="col-md-12">
        <button type="submit" class="btn btn-primary m-2" [disabled]="!form.valid">Save</button>
        <button type="button" (click)="gotoList()" class="btn btn-outline-secondary m-2">Cancel</button>
      </div>
    </div>
  
  <!-- <div class="col-md-6">
    <label for="grn" class="col-sm-2 col-form-label">GRN</label>
    <input type="text" class="form-control" formControlName="grn" 
      id="grn">
  </div> -->
 
</form>
<!-- <a *ngIf="invoice.id" [routerLink]="['../../items',invoice.id]">Items</a> -->
<router-outlet></router-outlet>
</div>
</div>